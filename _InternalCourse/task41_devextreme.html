<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- https://js.devexpress.com/Documentation/Guide/Getting_Started/Installation/CDN_Services/ -->

    <!-- DevExtreme dependencies -->
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.1.0.js"></script>
    <!-- The AngularJS library -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.js"></script>
    <!-- The Knockout library -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-debug.js"></script>
    <!-- DevExtreme themes -->
    <link rel="stylesheet" type="text/css" href="https://cdn3.devexpress.com/jslib/18.1.3/css/dx.common.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn3.devexpress.com/jslib/18.1.3/css/dx.light.css" />
    <!-- A DevExtreme library -->
    <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/18.1.3/js/dx.all.debug.js"></script>
</head>
<body>
    <pre>
    DevExtreme - Validation

Put two dxTextBox widgets with dxCheckBox and dxButton.
When the button is clicked, the first textbox should be always validated.
The second textbox should be validated only when the checkbox is checked.
The task should be implemented using the following approaches:

a.Knockout approach
b.jQuery approach
c.Angular approach

https://github.com/DevExpress-Examples/dxvalidator-how-to-display-validation-errors-only-on-a-button-click-t451354/blob/16.1.6%2B/JS/Validator.js

https://www.devexpress.com/Support/Center/Question/Details/T450927/dxvalidator-how-to-display-validation-errors-only-if-a-button-is-clicked


    <hr/>
    <p>javascript/DOM</p>
    todo 

    <hr/>
    <p>javascript + dx:</p>
    <div class="jsdx">
        <div  style="display: flex; flex-direction: column;">
            <label>Text1:<div class="data1__text"></div></label>
            <label>Validate text2:<div class="data2__check"></div></label>
            <label>Text2:<div class="data2__text"></div></label>
            <label>Validate text3:<div class="data3__check"></div></label>
            <label>Text3:<div class="data3__text"></div></label>
        </div>
        <div class="validate__button"></div>
    </div>
    <script>
        (function() {
            const rootEl = document.querySelector('.jsdx');
            const dxData1Text = new DevExpress.ui.dxTextBox(rootEl.querySelector('.data1__text'), {});
            const dxData1Validator = new DevExpress.ui.dxValidator(rootEl.querySelector('.data1__text'), {
                validationRules: [ { type: 'required' } ]
            });
            dxData1Validator.validate();

            const dxData2Check = new DevExpress.ui.dxCheckBox(rootEl.querySelector('.data2__check'), {
                value: true,
                onValueChanged: (e) => dxData2Validator.validate()
            });
            
            const dxData2Text = new DevExpress.ui.dxTextBox(rootEl.querySelector('.data2__text'), {});
            const dxData2Validator = new DevExpress.ui.dxValidator(rootEl.querySelector('.data2__text'), {
                validationRules: [ { type: 'required' } ],
                onInitialized: (e) => {
                    const _bypass = e.component.option('adapter').bypass;
                    e.component.option('adapter').bypass = function() {
                        return dxData2Check.option('value') ? _bypass.apply(this, arguments) : true;
                    }
                },
            });
            dxData2Validator.validate();

            const dxData3Check = new DevExpress.ui.dxCheckBox(rootEl.querySelector('.data3__check'), {
                value: true,
                onValueChanged: (e) => dxData3Validator.validate()
            });
            const dxData3Text = new DevExpress.ui.dxTextBox(rootEl.querySelector('.data3__text'), {});
            const dxData3Validator = new DevExpress.ui.dxValidator(rootEl.querySelector('.data3__text'), {
                validationRules: [ 
                    { 
                        type: 'custom',
                        validationCallback: () => { 
                            return dxData3Check.option('value') ? Boolean(dxData3Text.option('text')) : true;
                        },
                        message: 'Required',
                        //
                        // the 'required' rule is evaluated each time the 'validate' method is called.
                        // but in my custom rule I have to specify this option explicitly
                        //
                        reevaluate: true,
                    }
                ],
            });
            dxData3Validator.validate();

            //
            // const dxButton = new DevExpress.ui.dxButton(rootEl.querySelector('validate__button'), {
            //
            // new DevExpress.ui.dxButton(null, {}) - works without any error.
            // several times it took significant time to find why it doesn't work.
            //
            const dxButton = new DevExpress.ui.dxButton(rootEl.querySelector('.validate__button'), {
                text: 'Validate all',
                onClick: () => {
                    dxData1Validator.validate();
                    dxData2Validator.validate();
                    dxData3Validator.validate();
                }
            });
        })();
    </script>
    
    <hr/>
    <p>Knockout:</p>
    todo

    <hr/>
    <p>jQuery:</p>
    todo

    <hr/>
    <p>AngularJS:</p>
    todo

    <hr/>
    <p>Angular6:</p>
    todo

</body>
</html>