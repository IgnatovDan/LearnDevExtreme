<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>

    <!-- https://js.devexpress.com/Documentation/Guide/Getting_Started/Installation/CDN_Services/ -->

    <!-- DevExtreme dependencies -->
    <script type="text/javascript" src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.1.0.js"></script>
    <!-- The AngularJS library -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.js"></script>
    <!-- The Knockout library -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.0/knockout-debug.js"></script>
    <!-- DevExtreme themes -->
    <link rel="stylesheet" type="text/css" href="https://cdn3.devexpress.com/jslib/18.1.3/css/dx.common.css" />
    <link rel="stylesheet" type="text/css" href="https://cdn3.devexpress.com/jslib/18.1.3/css/dx.light.css" />
    <!-- A DevExtreme library -->
    <script type="text/javascript" src="https://cdn3.devexpress.com/jslib/18.1.3/js/dx.all.debug.js"></script>
</head>
<body>
    <pre>
    DevExtreme - Validation

Put two dxTextBox widgets with dxCheckBox and dxButton.
When the button is clicked, the first textbox should be always validated.
The second textbox should be validated only when the checkbox is checked.
The task should be implemented using the following approaches:

a.Knockout approach
b.jQuery approach
c.Angular approach

https://github.com/DevExpress-Examples/dxvalidator-how-to-display-validation-errors-only-on-a-button-click-t451354/blob/16.1.6%2B/JS/Validator.js

https://www.devexpress.com/Support/Center/Question/Details/T450927/dxvalidator-how-to-display-validation-errors-only-if-a-button-is-clicked

    <hr/>
    <p>javascript/DOM</p>
    todo 

    <hr/>
    <p>javascript + dx:</p>
    <div class="jsdx">
        <div  style="display: flex; flex-direction: column;">
            <label>Text1:<div class="data1__text"></div></label>
            <label>Validate text2:<div class="data2__check"></div></label>
            <label>Text2:<div class="data2__text"></div></label>
            <label>Validate text3:<div class="data3__check"></div></label>
            <label>Text3:<div class="data3__text"></div></label>
        </div>
        <div class="button_validate"></div>
        <div class="validationSummary"></div>
        <div class="button"></div>
        <div class="values"></div>
    </div>
    <script>
        $(function() {
            const rootEl = document.querySelector('.jsdx');

            const validationGroup = 'jsdx';
            let data1_text = '11';
            const dxData1Text = new DevExpress.ui.dxTextBox(rootEl.querySelector('.data1__text'), {
                value: data1_text,
                onValueChanged: e => data1_text = e.value,
            });
            const dxData1Validator = new DevExpress.ui.dxValidator(rootEl.querySelector('.data1__text'), {
                validationGroup,
                validationRules: [ { type: 'required' } ]
            });
            dxData1Validator.validate();

            let data2__needValidation = true;
            const dxData2Check = new DevExpress.ui.dxCheckBox(rootEl.querySelector('.data2__check'), {
                value: data2__needValidation,
                onValueChanged: e => {
                    data2__needValidation = e.value;
                    dxData2Validator.validate();
                }
            });
            let data2_text = '2222';
            const dxData2Text = new DevExpress.ui.dxTextBox(rootEl.querySelector('.data2__text'), {
                value: data2_text,
                onValueChanged: e => data2_text = e.value,
            });
            const dxData2Validator = new DevExpress.ui.dxValidator(rootEl.querySelector('.data2__text'), {
                validationGroup,
                validationRules: [ { type: 'required' } ],
                onInitialized: (e) => {
                    const bypass_base = e.component.option('adapter').bypass;
                    e.component.option('adapter').bypass = function() {
                        if(data2__needValidation) {
                            return bypass_base.apply(this, arguments);
                        }
                        else {
                            return true;
                        }
                    }
                },
            });
            dxData2Validator.validate();

            let data3__needValidation = true;
            const dxData3Check = new DevExpress.ui.dxCheckBox(rootEl.querySelector('.data3__check'), {
                value: data3__needValidation,
                onValueChanged: e => {
                    data3__needValidation = e.value;
                    dxData3Validator.validate();
                },
            });
            let data3_text = '333333';
            const dxData3Text = new DevExpress.ui.dxTextBox(rootEl.querySelector('.data3__text'), {
                value: data3_text,
                onValueChanged: (e) => {
                    dxData3Validator.validate();
                    data3_text = e.value;
                },
            });
            const dxData3Validator = new DevExpress.ui.dxValidator(rootEl.querySelector('.data3__text'), {
                validationGroup,
                validationRules: [ 
                    { 
                        type: 'custom',
                        validationCallback: () => { 
                            if(data3__needValidation) {
                                return Boolean(dxData3Text.option('text')/*data3_text???*/);
                             }
                             else {
                                 return true;
                             }
                        },
                        message: 'My Required',
                        //
                        // the 'required' rule is evaluated each time the 'validate' method is called.
                        // but in my custom rule I have to specify this option explicitly
                        //
                        reevaluate: true,
                    }
                ],
            });
            dxData3Validator.validate();

            new DevExpress.ui.dxButton(rootEl.querySelector('.button_validate'), {
                text: 'Show summary',
                validationGroup,
                //
                // How to show validation summary on load ???
                //
                onClick: e => e.validationGroup.validate(),
            });
            
            new DevExpress.ui.dxValidationSummary(rootEl.querySelector('.validationSummary'), {
                validationGroup,
            });

            //
            // const dxButton = new DevExpress.ui.dxButton(rootEl.querySelector('validate__button'), {
            //
            // new DevExpress.ui.dxButton(null, {}) - works without any error.
            // several times it took significant time to find why it doesn't work.
            //
            const dxButton = new DevExpress.ui.dxButton(rootEl.querySelector('.button'), {
                text: 'Show values',
                onClick: () => {
                    document.querySelector('.values').innerText = 
                        'text1: "' + data1_text + '"\rtext2: "' + data2_text + '"\rtext3: "' + data3_text + '"';
                }
            });
        });
    </script>
    
    <hr/>
    <p>Knockout:</p>
    todo

    <hr/>
    <p>jQuery:</p>
    todo

    <hr/>
    <p>AngularJS:</p>
    todo

    <hr/>
    <p>Angular6:</p>
    todo

</body>
</html>